vlib work
vmap work work

vlog -work work -novopt -sv +incdir+./src/tb +incdir+./src/dut +incdir+./src/tb_uvm  ./src/dut/utopia1_atm_rx.sv 
vlog -work work -novopt -sv +incdir+./src/tb +incdir+./src/dut +incdir+./src/tb_uvm  ./src/dut/utopia1_atm_tx.sv  
vlog -work work -sv +incdir+./src/tb +incdir+./src/dut +incdir+./src/tb_uvm  ./src/dut/squat.sv vlog squat.sv
#vlog -work work -novopt -sv +incdir+./src/tb +incdir+./src/dut +incdir+./src/tb_uvm  ./src/tb_uvm/tb.f vlog -f tb.f
#vlog -f tb.f

vsim top -coverage +UVM_VERBOSITY=UVM_HIGH +UVM_TESTNAME=teste
set NoQuitOnFinish 1
onbreak {resume}
log /* -r
run -all

coverage attribute -name TESTNAME -value test2
coverage save teste.ucdb

#vcover merge  smoke_test.ucdb zeros_test.ucdb neg_test.ucdb
vcover report teste.ucdb -cvg -details
